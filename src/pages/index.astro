---
import Layout from "../layouts/Layout.astro";
---

<Layout title="Responsive space website">
  <!--==================== HEADER ====================-->
  <header class="header" id="header">
    <nav class="nav container">
      <a href="#" class="nav__logo">
        <img src="/assets/img/logo.svg" alt="Logo space" />
        Planet
      </a>
      <div class="nav__menu" id="nav-menu">
        <ul class="nav__list">
          <li>
            <a href="#home" class="nav__link active-link">Home</a>
          </li>
          <li>
            <a href="#travel" class="nav__link">Travel</a>
          </li>
          <li>
            <a href="#explore" class="nav__link">Explore</a>
          </li>
          <li>
            <a href="#history" class="nav__link">History</a>
          </li>
        </ul>

        <!-- close button -->
        <div class="nav__close" id="nav-close">
          <i class="ri-close-large-line"></i>
        </div>

        <img class="nav__img" src="/assets/img/nav-comet.svg" alt="Nav comet" />
      </div>
      <!-- toggle button -->
      <div class="nav__toggle" id="nav-toggle">
        <i class="ri-menu-3-line"></i>
      </div>
    </nav>
  </header>

  <!--==================== MAIN ====================-->
  <main class="main">
    <!--==================== HOME ====================-->
    <section class="home section" id="home">
      <img
        class="home__bg"
        src="/assets/img/home-bg.svg"
        alt="Home background"
      />

      <div class="home__container container grid">
        <div class="home__data">
          <h1 class="home__title">
            <span>WELCOME</span>
            <span>TO THE</span>
            <span>SPACE</span>
          </h1>
          <a href="#explore" class="button">Explore Mars</a>
          <img
            class="home__ovni"
            src="/assets/img/home-ovni.svg"
            alt="Home ovni"
          />
        </div>
        <img class="home__img" src="/assets/img/home-img.png" alt="Home img" />
      </div>
    </section>

    <!--==================== TRAVEL ====================-->
    <section class="travel section" id="travel">
      <img
        class="travel__lines"
        src="/assets/img/travel-lines.svg"
        alt="Travel lines"
      />

      <div class="travel__container container">
        <h2 class="section__title">
          <span>SPACE</span>
          <span>TRAVEL LIST</span>
        </h2>
        <div class="travel__swiper swiper">
          <div class="swiper-wrapper">
            <article class="travel__card swiper-slide">
              <img
                class="travel__img"
                src="/assets/img/travel-planet-1.svg"
                alt="Planet 1"
              />

              <h3 class="travel__title">PLANET EARTH</h3>
              <span class="travel__info">54.06 million km</span>
              <p class="travel__description">
                Planet Earth is made up of beautiful landscapes and extensive
                mountain ranges.
              </p>
            </article>

            <article class="travel__card swiper-slide">
              <img
                class="travel__img"
                src="/assets/img/travel-planet-2.svg"
                alt="Planet 1"
              />

              <h3 class="travel__title">THE SUN</h3>
              <span class="travel__info">148.14 million km</span>
              <p class="travel__description">
                Planet Earth is made up of beautiful landscapes and extensive
                mountain ranges.
              </p>
            </article>

            <article class="travel__card swiper-slide">
              <img
                class="travel__img"
                src="/assets/img/travel-planet-3.svg"
                alt="Planet 1"
              />

              <h3 class="travel__title">PLANET NAMEK</h3>
              <span class="travel__info">96.12 million km</span>
              <p class="travel__description">
                Planet Earth is made up of beautiful landscapes and extensive
                mountain ranges.
              </p>
            </article>

            <article class="travel__card swiper-slide">
              <img
                class="travel__img"
                src="/assets/img/travel-planet-4.svg"
                alt="Planet 1"
              />

              <h3 class="travel__title">PLANET VENUS</h3>
              <span class="travel__info">86.609 million km</span>
              <p class="travel__description">
                Planet Earth is made up of beautiful landscapes and extensive
                mountain ranges.
              </p>
            </article>
          </div>
        </div>
        <!-- pagination -->
        <div class="swiper-pagination"></div>
      </div>
    </section>

    <!--==================== EXPLORE ====================-->
    <section class="explore section" id="explore">
      <div class="explore__container container grid">
        <div class="explore__data">
          <h2 class="section__title">
            LEARN MARS<span>EXPLORATION</span>
          </h2>
          <p class="explore__description">
            Mars, the fourth plane from the Sun, is a dusty, cold, desert world
            with a very distinctive atmosphere. The goal of the Mars exploration
            program is to provide a continuous flow of scientific information
            and discoveries through a series of carefully selected robotic
            orbits.
          </p>

          <img
            class="explore__planet"
            src="/assets/img/explore-planet.svg"
            alt="Explore planet"
          />

          <div class="explore__info">
            <div>
              <h3 class="explore__info-title">MOON</h3>
              <h2 class="explore__info-number">2</h2>
            </div>

            <div>
              <h3 class="explore__info-title">DISTANCE</h3>
              <h2 class="explore__info-number">62.069.570 <span>km</span></h2>
            </div>
          </div>
        </div>
        <img class="explore__img" src="/assets/img/explore-img.png" alt="Explore img" />
      </div>
    </section>

    <!--==================== HISTORY ====================-->
    <section class="history section" id="history">
      <h2 class="section__title">
        SPACE TRAVEL <span>HISTORY</span>
      </h2>

      <img
        class="history__planet-1"
        src="/assets/img/history-planet-1.svg"
        alt="History img"
      />
      <img
        class="history__planet-2"
        src="/assets/img/history-planet-2.svg"
        alt="History img"
      />
      <div class="history__container container grid">
        <article class="history__card swiper-slide">
          <img
            class="history__img"
            src="/assets/img/history-img-1.svg"
            alt="History card 1"
          />
          <p class="history__description">
            <span>The International Space Station,</span>
            (ISS) is a modular space station in low Earth orbit.
          </p>
        </article>

        <article class="history__card swiper-slide">
          <img
            class="history__img"
            src="/assets/img/history-img-2.svg"
            alt="History card 2"
          />
          <p class="history__description">
            <span>Melio Janz,</span>
            the first person in space and in orbit.
          </p>
        </article>

        <article class="history__card swiper-slide">
          <img
            class="history__img"
            src="/assets/img/history-img-3.svg"
            alt="History card 3"
          />
          <p class="history__description">
            <span>Teamwork and Collaboration,</span>
            in long duration space missions.
          </p>
        </article>
      </div>
    </section>

    <!--==================== CONTACT ====================-->
    <section class="contact section">
      <h2 class="section__title">
        GET OUR <span>LATEST NEWS</span>
      </h2>
      <div class="contact__container container grid">
        <form class="contact__form" action="">
          <input
            type="text"
            placeholder="Email Adress"
            name="email"
            autocomplete="email"
          />
          <button class="button button__yellow">Email Address</button>
        </form>
      </div>
    </section>
  </main>

  <!--==================== FOOTER ====================-->
  <footer class="footer">
    <div class="footer__container container grid">
      <img
        class="footer__planet-1"
        src="/assets/img/footer-planet-1.svg"
        alt="Footer planet 1"
      />
      <img
        class="footer__planet-2"
        src="/assets/img/footer-planet-2.svg"
        alt="Footer planet 2"
      />

      <div class="footer__content grid">
        <ul class="footer__links">
          <li>
            <a href="" class="footer__link">Home</a>
          </li>

          <li>
            <a href="#" class="footer__link">Travel</a>
          </li>

          <li>
            <a href="#" class="footer__link">Explore</a>
          </li>
        </ul>

        <div class="footer__social">
          <a href="https://www.facebook.com/" class="footer__social-link">
            <i class="ri-facebook-fill"></i>
          </a>

          <a href="https://www.instagram.com/" class="footer__social-link">
            <i class="ri-instagram-fill"></i>
          </a>

          <a href="https://twitter.com/" class="footer__social-link">
            <i class="ri-twitter-x-fill"></i>
          </a>
        </div>
      </div>
      <span class="footer__copy">
        &#169; All Rights Reserved By Bedimcode - Codigo Creativo
      </span>
    </div>
  </footer>

  <!--========== SCROLL UP ==========-->
  <a href="" class="scrollup" id="scroll-up">
    <i class="ri-arrow-up-line"></i>
  </a>
</Layout>
<!--=============== MAIN JS ===============-->
<script>
  import { $, $$ } from "../lib/dom.js";
  import Swiper from "swiper";
  import { Navigation, Pagination } from "swiper/modules";
  
  /*=============== SHOW MENU ===============*/
  const $navMenu = $("#nav-menu");
  const $navToggle = $("#nav-toggle");
  const $navClose = $("#nav-close");

  // menu show
  if ($navToggle) {
    $navToggle.addEventListener("click", () => {
      $navMenu.classList.add("show-menu");
    });
  }

  // menu hidden
  if ($navClose) {
    $navClose.addEventListener("click", () => {
      $navMenu.classList.remove("show-menu");
    });
  }
  /*=============== REMOVE MENU MOBILE ===============*/
  const $navLink = $$(".nav__link");

  $navLink.forEach((link) => {
    link.addEventListener("click", () => {
      $navMenu.classList.remove("show-menu");
    });
  });

  /*=============== ADD BLUR HEADER ===============*/

  const scrollHeader = () => {
    const $header = $(".header");
    if ($header) {
      if (window.scrollY >= 50) {
        $header.classList.add("blur-header");
      } else {
        $header.classList.remove("blur-header");
      }
    }
  };

  window.addEventListener("scroll", scrollHeader);

  /*=============== SWIPER PLANETS ===============*/

  const swiperTravel = new Swiper(".travel__swiper", {
    loop: true,
    navigation: {
      nextEl: ".swiper-button-next",
      prevEl: ".swiper-button-prev",
    },
    spaceBetween: 32,

    grabCursor: true,

    slidesPerView: "auto",
    modules: [Navigation, Pagination],
    pagination: {
      el: ".swiper-pagination",
      clickable: true,
    },

    breakpoints: {
      600: {
        slidesPerView: 2,
      },
      900: {
        slidesPerView: 3,
      },
    },
  });

  /*=============== SHOW SCROLL UP ===============*/
  const scrollUp = () => {
    const $scrollUp = document.getElementById("scroll-up");
    // When the scroll is higher than 350 viewport height, add the show-scroll class to the a tag with the scrollup class
    window.scrollY >= 350
      ? $scrollUp?.classList.add("show-scroll")
      : $scrollUp?.classList.remove("show-scroll");
  };
  window.addEventListener("scroll", scrollUp);

  /*=============== SCROLL SECTIONS ACTIVE LINK ===============*/
  const $$sections = $$("section[id]");

  const scrollActive = () => {
    const scrollDown = window.scrollY;

    $$sections.forEach((current) => {
      const sectionHeight = current.offsetHeight,
        sectionTop = current.offsetTop - 58,
        sectionId = current.getAttribute("id"),
        sectionsClass = document.querySelector(
          ".nav__menu a[href*=" + sectionId + "]"
        );

      if (scrollDown > sectionTop && scrollDown <= sectionTop + sectionHeight) {
        sectionsClass?.classList.add("active-link");
      } else {
        sectionsClass?.classList.remove("active-link");
      }
    });
  };
  window.addEventListener("scroll", scrollActive);

</script>
